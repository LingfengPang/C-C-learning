#include <stdio.h>
#include <stdbool.h>
#include <windows.h>
#include "Cqueue.h"

void init_SqQueue(SqQueue *q){
    //q = (SqQueue *)malloc(sizeof(SqQueue));
    q->front = 0;
    q->rear = 0;
    q->length = 0;
}

void destroy_SqQueue(SqQueue *q){
    free(q);
}

int length_SqQueue(SqQueue *q){
    return q->length;
}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
void make_empty(SqQueue *q){
    q->front = 0;
    q->rear = 0;
    q->length = 0;
}                     

bool is_empty(SqQueue *q){
    return (q->length == 0);
}

bool is_full(SqQueue *q){
    return q->length == MAXSIZE;
}
//进入队列
bool enQueue(ElemType e,SqQueue *q){
    if(is_full(q)){
        return false;
    }
    else{ 
        q->content[q->rear] = e;
        q->rear= (q->rear+1)%MAXSIZE;
        q->length++;
        return true;
    }
}
//出栈
bool GetHead(ElemType *e,SqQueue *q){
    if(is_empty(q)){
        return false;
    }
    else{
        (*e) = q->content[q->front];
        return true;
    }
}

//出队列
bool deQueue(ElemType *e,SqQueue *q){
    if(is_empty(q)){
        return false;
    }
    else{
        (*e) = q->content[q->front];
        q->front = (q->front+1)%MAXSIZE;
        q->length--;
        return true;
    }
}

int main(){
    SqQueue q;
    ElemType e = 0;
    init_SqQueue(&q);
    for(int i = 0;i<5;i++)
        enQueue(i+1,&q);
    GetHead(&e,&q);
    
    printf("%d\n",e);
    e = length_SqQueue(&q);
    printf("%d\n",e);
    for(int i = 0;i<2;i++){
        deQueue(&e,&q);
        printf("%d ",e);
    }
    for(int i = 0;i<2;i++)
        enQueue(i+10,&q);
    
    for(int i = 0;i<5;i++){
        deQueue(&e,&q);
        printf("%d ",e);
    }
    
    printf("\n");
       
    system("pause");
    return 0;
}